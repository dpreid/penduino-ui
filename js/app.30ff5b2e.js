(function(t){function e(e){for(var n,r,c=e[0],o=e[1],l=e[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="pendvueino/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},"168f":function(t,e,a){t.exports=a.p+"img/ruler.41f3337c.png"},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id="4678"},4996:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"eventBus",(function(){return dt}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,s,i=a("a026"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row",attrs:{id:"optionsMenu"}},[a("label",{attrs:{id:"menuLabel",for:"graphcheck"}},[t._v("Add graph")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isGraphOn,expression:"isGraphOn"}],attrs:{type:"checkbox",id:"graphcheck",name:"graphcheck"},domProps:{checked:Array.isArray(t.isGraphOn)?t._i(t.isGraphOn,null)>-1:t.isGraphOn},on:{change:function(e){var a=t.isGraphOn,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.isGraphOn=a.concat([i])):r>-1&&(t.isGraphOn=a.slice(0,r).concat(a.slice(r+1)))}else t.isGraphOn=s}}}),a("label",{attrs:{id:"menuLabel",for:"tablecheck"}},[t._v("Add table")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isTableOn,expression:"isTableOn"}],attrs:{type:"checkbox",id:"tablecheck",name:"tablecheck"},domProps:{checked:Array.isArray(t.isTableOn)?t._i(t.isTableOn,null)>-1:t.isTableOn},on:{change:function(e){var a=t.isTableOn,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.isTableOn=a.concat([i])):r>-1&&(t.isTableOn=a.slice(0,r).concat(a.slice(r+1)))}else t.isTableOn=s}}}),a("label",{attrs:{id:"menuLabel",for:"stopwatchcheck"}},[t._v("Add stopwatch")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isStopwatchOn,expression:"isStopwatchOn"}],attrs:{type:"checkbox",id:"stopwatchcheck",name:"stopwatchcheck"},domProps:{checked:Array.isArray(t.isStopwatchOn)?t._i(t.isStopwatchOn,null)>-1:t.isStopwatchOn},on:{change:function(e){var a=t.isStopwatchOn,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.isStopwatchOn=a.concat([i])):r>-1&&(t.isStopwatchOn=a.slice(0,r).concat(a.slice(r+1)))}else t.isStopwatchOn=s}}}),a("label",{attrs:{id:"menuLabel",for:"workspacecheck"}},[t._v("Add workspace")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.isWorkspaceOn,expression:"isWorkspaceOn"}],attrs:{type:"checkbox",id:"workspacecheck",name:"workspacecheck"},domProps:{checked:Array.isArray(t.isWorkspaceOn)?t._i(t.isWorkspaceOn,null)>-1:t.isWorkspaceOn},on:{change:function(e){var a=t.isWorkspaceOn,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);n.checked?r<0&&(t.isWorkspaceOn=a.concat([i])):r>-1&&(t.isWorkspaceOn=a.slice(0,r).concat(a.slice(r+1)))}else t.isWorkspaceOn=s}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("webcam-stream"),a("control-panel")],1),t.isGraphOn?a("div",{staticClass:"col-6"},[a("graph-output",{attrs:{type:"graph",id:"0"}}),a("data-recorder")],1):t._e()]),t.isWorkspaceOn?a("div",[a("workspace")],1):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[t.isTableOn?a("div",[a("table-output")],1):t._e(),t.isStopwatchOn?a("div",[a("stopwatch")],1):t._e()])])])])},c=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-5 justify-content-center",attrs:{id:"chart-canvas"}},[a("div",{staticClass:"col"},[a("canvas",{attrs:{id:t.id},on:{mousedown:t.startLine,mouseup:t.endDrag,mousemove:t.endLine}})])]),a("div",{staticClass:"row mb-5 justify-content-center",attrs:{id:"chart-functions"}},[a("div",{staticClass:"col"},[t._m(0),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentDataParameter,expression:"currentDataParameter"}],attrs:{name:"graphSelect",id:"graphSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentDataParameter=e.target.multiple?a:a[0]},t.getData]}},[a("option",{attrs:{value:"theta"}},[t._v("Angle")]),a("option",{attrs:{value:"x"}},[t._v("X Position")]),a("option",{attrs:{value:"y"}},[t._v("Y Position")]),a("option",{attrs:{value:"vx"}},[t._v("X Velocity")]),a("option",{attrs:{value:"vy"}},[t._v("Y Velocity")]),a("option",{attrs:{value:"ax"}},[t._v("X Acceleration")]),a("option",{attrs:{value:"ay"}},[t._v("Y Acceleration")])])]),a("div",{staticClass:"col"},[t._m(1),a("div",{staticClass:"row justify-content-center"},[a("input",{attrs:{id:"gradient",readonly:"",size:"3"},domProps:{value:t.gradient}})])]),a("div",{staticClass:"col"},[a("label",{attrs:{for:"graph"}},[t._v("Plot function:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentFunction,expression:"currentFunction"}],attrs:{name:"function",id:"function"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.currentFunction=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"linear"}},[t._v("Linear")]),a("option",{attrs:{value:"quadratic"}},[t._v("Quadratic")]),a("option",{attrs:{value:"trigonometric"}},[t._v("Trigonometric")]),a("option",{attrs:{value:"exponential"}},[t._v("Exponential")])]),"linear"===t.currentFunction?a("div",[a("label",{attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{attrs:{for:"func_b"}},[t._v("x + ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("div",{staticClass:"row justify-content-center"},[a("button",{attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.linear)}}},[t._v("Plot")]),a("button",{attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"quadratic"===t.currentFunction?a("div",[a("label",{attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("div",{staticClass:"row justify-content-center"},[a("button",{attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.quadratic)}}},[t._v("Plot")]),a("button",{attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"trigonometric"===t.currentFunction?a("div",[a("label",{attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"2"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{attrs:{for:"func_b"}},[t._v("sin(")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"2"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("label",{attrs:{for:"func_c"}},[t._v(" t + ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_c,expression:"func_c"}],attrs:{id:"func_c",size:"2"},domProps:{value:t.func_c},on:{input:function(e){e.target.composing||(t.func_c=e.target.value)}}}),a("label",[t._v(" ) ")]),a("div",{staticClass:"row justify-content-center"},[a("button",{attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.trigonometric)}}},[t._v("Plot")]),a("button",{attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):"exponential"===t.currentFunction?a("div",[a("label",{attrs:{for:"func_a"}},[t._v("y=")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_a,expression:"func_a"}],attrs:{id:"func_a",size:"3"},domProps:{value:t.func_a},on:{input:function(e){e.target.composing||(t.func_a=e.target.value)}}}),a("label",{attrs:{for:"func_b"}},[t._v("exp(")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.func_b,expression:"func_b"}],attrs:{id:"func_b",size:"3"},domProps:{value:t.func_b},on:{input:function(e){e.target.composing||(t.func_b=e.target.value)}}}),a("label",{attrs:{for:"func_b"}},[t._v(" t)")]),a("div",{staticClass:"row justify-content-center"},[a("button",{attrs:{id:"plotFunctionButton"},on:{click:function(e){return t.plotFunc(t.exponential)}}},[t._v("Plot")]),a("button",{attrs:{id:"clearFunctionButton"},on:{click:t.deleteFunctionDataset}},[t._v("Clear")])])]):t._e()])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("label",{attrs:{for:"graphSelect"}},[t._v("Graph:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("label",{attrs:{for:"gradient"}},[t._v("Gradient")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"func_b"}},[t._v("x"),a("sup",[t._v("2")]),t._v(" + ")])}],d=(a("4de4"),a("4160"),a("159b"),a("a434"),{state:{current_angle:0,current_time:0,start_time:0,isCaliperSet:!1,data:[],num_graphs:0},clearAllData:function(){this.state.data=[]},getNumData:function(){return this.state.data.length},addData:function(t){this.state.data.push(t)},deleteData:function(t){this.state.data.splice(t,1)},getTime:function(){return console.log("start time = "+this.state.start_time),(this.state.current_time-this.state.start_time)/1e3},getMaxTime:function(){var t=-1/0;return this.state.data.forEach((function(e){e.t>t&&(t=e.t)})),t},getMinTime:function(){var t=1/0;return this.state.data.forEach((function(e){e.t<t&&(t=e.t)})),t}}),u=a("30ef"),f={name:"GraphOutput",props:["type","id"],data:function(){return{chart:null,currentDataParameter:"theta",chartData:[],total_num_charts:d.state.num_graphs,gradient_start_point:{x:0,y:0},gradient_end_point:{x:0,y:0},gradient:0,mouseDragging:!1,currentFunction:"linear",func_a:0,func_b:0,func_c:0,funcTimeStep:.1,YAxisMax:0,YAxisMin:0,XAxisMax:0,XAxisMin:0}},methods:{createChart:function(){var t=this,e=document.getElementById(this.id).getContext("2d"),a=new u["Chart"](e,{type:"scatter",data:{datasets:[{label:this.type,data:this.chartData,pointBackgroundColor:"rgba(0, 0, 0, 1)"}]},options:{legend:{display:!1},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"time/s"},type:"linear",position:"bottom",ticks:{callback:function(e,a,n){return t.updateXAxisMax(e,a,n),t.updateXAxisMin(e,a),e}}}],yAxes:[{scaleLabel:{display:!0,labelString:this.currentDataParameter},type:"linear",position:"left",ticks:{callback:function(e,a,n){return t.updateYAxisMax(e,a),t.updateYAxisMin(e,a,n),e}}}]},responsive:!0}});this.chart=a},updateYAxisMax:function(t,e){0==e&&(this.YAxisMax=t)},updateYAxisMin:function(t,e,a){e==a.length-1&&(this.YAxisMin=t)},updateXAxisMin:function(t,e){0==e&&(this.XAxisMin=t)},updateXAxisMax:function(t,e,a){e==a.length-1&&(this.XAxisMax=t)},addDataToChart:function(t){this.chart.data.datasets.forEach((function(e){e.data.push(t)})),this.chart.update(0),this.chart.options.scales.yAxes[0].scaleLabel.labelString=this.currentDataParameter},clearData:function(){this.chartData=[],this.chart.data.datasets[0].data=this.chartData,this.chart.update()},getData:function(){this.clearData();for(var t=0;t<d.state.data.length;t++){var e=void 0,a=d.state.data[t].t;switch(this.currentDataParameter){case"theta":e=d.state.data[t].theta;break;case"x":e=d.state.data[t].x;break;case"y":e=d.state.data[t].y;break;case"vx":e=d.state.data[t].vx;break;case"vy":e=d.state.data[t].vy;break;case"ax":e=d.state.data[t].ax;break;case"ay":e=d.state.data[t].ay;break}this.addDataToChart({x:a,y:e})}},getLatestData:function(){var t,e=d.getNumData()-1,a=d.state.data[e].t;switch(this.currentDataParameter){case"theta":t=d.state.data[e].theta;break;case"x":t=d.state.data[e].x;break;case"y":t=d.state.data[e].y;break;case"vx":t=d.state.data[e].vx;break;case"vy":t=d.state.data[e].vy;break;case"ax":t=d.state.data[e].ax;break;case"ay":t=d.state.data[e].ay;break}this.addDataToChart({x:a,y:t})},chartAdded:function(){this.total_num_charts=d.state.num_graphs},removeChart:function(){this.chart.destroy()},startLine:function(t){this.gradient_start_point.x=t.offsetX,this.gradient_start_point.y=t.offsetY,this.mouseDragging=!0},endDrag:function(){this.mouseDragging=!1},endLine:function(t){if(this.mouseDragging){this.gradient_end_point.x=t.offsetX,this.gradient_end_point.y=t.offsetY;var e=(this.gradient_start_point.y-this.gradient_end_point.y)/(this.gradient_end_point.x-this.gradient_start_point.x),a=32,n=document.getElementById(this.id),s=n.clientHeight-a,i=n.clientWidth,r=s/i,c=this.YAxisMax-this.YAxisMin,o=this.XAxisMax-this.XAxisMin,l=c/o;this.chartData.length>1&&(this.gradient=l*e/r,this.drawLine(this.gradient_start_point,this.gradient_end_point))}},drawLine:function(t,e){var a=document.getElementById(this.id),n=a.getContext("2d");n.clearRect(0,0,a.width,a.height),this.chart.update(0),n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.lineWidth=5,n.strokeStyle="red",n.stroke()},plotFunc:function(t){for(var e,a,n=this.XAxisMin,s=this.XAxisMax,i=s-n,r=i/this.funcTimeStep,c=[],o=0;o<r;o++){e=n+o*this.funcTimeStep,a=t(e);var l={x:e,y:a};c.push(l)}this.addNewDataSet("rgba(255, 0, 0, 0.5)",c)},linear:function(t){return parseFloat(this.func_a)*t+parseFloat(this.func_b)},quadratic:function(t){return parseFloat(this.func_a)*t*t+parseFloat(this.func_b)},trigonometric:function(t){return parseFloat(this.func_a)*Math.sin(parseFloat(this.func_b)*t+parseFloat(this.func_c))},exponential:function(t){return parseFloat(this.func_a)*Math.exp(parseFloat(this.func_b)*t)},addNewDataSet:function(t,e){this.chart.data.datasets.push({label:"plotted function",pointBackgroundColor:t,data:e}),this.chart.update(0)},deleteFunctionDataset:function(){this.chart.data.datasets=this.chart.data.datasets.filter((function(t){return"plotted function"!==t.label})),this.chart.update(0)}},computed:{getClass:function(){return 1==this.total_num_charts?{"col-12":!0,"col-6":!1,"col-4":!1}:2==this.total_num_charts?{"col-12":!1,"col-6":!0,"col-4":!1}:{"col-12":!1,"col-6":!1,"col-4":!0}}},mounted:function(){this.createChart(),this.getData()},created:function(){dt.$on("updateGraph",this.getLatestData),dt.$on("newgraphadded",this.chartAdded),dt.$on("clearalldata",this.clearData)}},m=f,h=(a("7379"),a("2877")),p=Object(h["a"])(m,o,l,!1,null,"631e3d26",null),v=p.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row mb-5 justify-content-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_field,expression:"search_field"}],attrs:{type:"text",id:"search",placeholder:"Search the table..."},domProps:{value:t.search_field},on:{keyup:t.search,input:function(e){e.target.composing||(t.search_field=e.target.value)}}}),a("table",{staticClass:"table"},[t._m(0),t._l(t.tableData,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.t))]),a("td",[t._v(t._s(e.theta))])])}))],2)])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Time/s")]),a("th",{attrs:{scope:"col"}},[t._v("Theta")])])}],g=(a("a630"),a("c975"),a("b0c0"),a("3ca3"),{name:"TableOutput",data:function(){return{tableData:d.state.data,searchData:[],search_field:"",selected_row_id:"0"}},methods:{addData:function(t){this.tableData=t,this.searchData=t},search:function(){if(""==this.search_field)this.searchData=Array.from(this.tableData);else{var t,e;this.searchData=[];for(var a=0;a<this.tableData.length;a++)t=this.tableData[a],e=t.id+t.mass+t.name+t.reclat+t.reclong+t.recclass,e.toUpperCase().indexOf(this.search_field.toUpperCase())>-1&&this.searchData.push(t)}},changeSelected:function(t){this.selected_row_id=t;var e=document.getElementById(t);e.scrollIntoView()}},computed:{},mounted:function(){},created:function(){}}),k=g,y=Object(h["a"])(k,b,_,!1,null,"04c89f77",null),j=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("input",{attrs:{id:"stopwatch",readonly:"",size:"10"},domProps:{value:t.time_string}})]),a("div",{staticClass:"row"},[t.isTiming?t._e():a("button",{attrs:{id:"start/pause"},on:{click:t.startTimer}},[t._v("Start")]),t.isTiming?a("button",{attrs:{id:"pause"},on:{click:t.pauseTimer}},[t._v("Pause")]):t._e(),a("button",{attrs:{id:"reset"},on:{click:t.resetTimer}},[t._v("Reset")])])])},w=[],C=(a("d3b7"),a("25f0"),{name:"Stopwatch",data:function(){return{isTiming:!1,timerID:0,current_time:0,time_string:""}},created:function(){this.isTiming=!1,this.time_string=this.millsecondsFormatted(this.current_time)},methods:{startTimer:function(){var t=this;this.isTiming=!0,this.timerID=setInterval((function(){t.updateTime()}),10)},pauseTimer:function(){this.isTiming=!1,clearInterval(this.timerID)},resetTimer:function(){this.current_time=0,this.time_string=this.millsecondsFormatted(this.current_time)},updateTime:function(){this.current_time+=10,this.time_string=this.millsecondsFormatted(this.current_time)},millsecondsFormatted:function(t){var e=t%1e3,a=Math.floor(t/1e3),n=Math.floor(a/60);a%=60;var s=Math.floor(n/60);n%=60,s>=100&&(this.current_time=0);var i=s<10?"0"+s.toString():s.toString(),r=n<10?"0"+n.toString():n.toString(),c=a<10?"0"+a.toString():a.toString(),o=e.toString();return i+":"+r+":"+c+"."+o}},computed:{}}),P=C,S=Object(h["a"])(P,x,w,!1,null,"37efa2bc",null),O=S.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{attrs:{id:"workspace"},on:{mousedown:t.checkClick,mousemove:t.moveClicked,mouseup:t.mouseUnclick}}),n("img",{attrs:{id:"protractor",src:a("b4f2"),hidden:""}}),n("img",{attrs:{id:"ruler",src:a("168f"),hidden:""}}),n("img",{attrs:{id:"caliper",src:a("5ed9"),hidden:""}})])},A=[],T=(a("cb29"),a("38cf"),new Image),M=new Image,F=new Image,N=[],E={name:"Workspace",data:function(){return{isSelected:!1,selected_index:null,selected_offset_x:0,selected_offset_y:0,rotateMode:!1,isCaliperActive:!1}},mounted:function(){N=[],n=document.getElementById("workspace"),n.width=screen.width,n.height=screen.height,s=n.getContext("2d"),this.addImages(),window.addEventListener("keydown",this.updateMode,!1),window.addEventListener("keyup",this.updateMode,!1)},methods:{draw:function(){s.clearRect(0,0,screen.width,screen.height);for(var t=0;t<N.length;t++)s.save(),null!=N[t].image?(s.translate(N[t].x,N[t].y),s.translate(N[t].width/2,N[t].height/2),s.rotate(N[t].angle),s.drawImage(N[t].image,-N[t].width/2,-N[t].height/2,N[t].width,N[t].height)):(s.beginPath(),s.rect(N[t].x,N[t].y,N[t].width,N[t].height),s.stroke(),s.fill(),s.fillStyle="#444444"),s.restore()},addImages:function(){T.onload=function(){var t=100,e=100,a=400,n=200;N.push({x:t,y:e,width:a,height:n,image:T,angle:0}),s.drawImage(T,t,e,a,n)},T.src=document.getElementById("protractor").src,M.onload=function(){var t=100,e=300,a=800,n=80;s.drawImage(M,t,e,a,n),N.push({x:t,y:e,width:a,height:n,image:M,angle:0})},M.src=document.getElementById("ruler").src,F.onload=function(){var t=100,e=400,a=100,n=100;s.drawImage(F,t,e,a,n),N.push({x:t,y:e,width:a,height:n,image:F,angle:0})},F.src=document.getElementById("caliper").src},updateMode:function(t){t.repeat||("r"==t.key?this.rotateMode=!this.rotateMode:"c"==t.key&&(this.isCaliperActive=!this.isCaliperActive))},checkClick:function(t){for(var e=0;e<N.length;e++)t.offsetX>=N[e].x&&t.offsetX<=N[e].x+N[e].width&&t.offsetY>=N[e].y&&t.offsetY<=N[e].y+N[e].height&&(this.isSelected=!0,this.selected_index=e,this.selected_offset_x=t.offsetX-N[e].x,this.selected_offset_y=t.offsetY-N[e].y);N[this.selected_index].image==F&&this.isCaliperActive&&this.outputData()},moveClicked:function(t){this.isSelected&&(this.rotateMode?t.movementY<0?N[this.selected_index].angle-=Math.PI/180:t.movementY>0&&(N[this.selected_index].angle+=Math.PI/180):(N[this.selected_index].x=t.offsetX-this.selected_offset_x,N[this.selected_index].y=t.offsetY-this.selected_offset_y),this.draw())},mouseUnclick:function(){this.isSelected=!1,this.selected_index=null},outputData:function(){console.log("output data");var t=d.state.current_angle,e=d.getTime();console.log(e);var a={id:d.state.data.length,t:parseFloat(e),theta:parseFloat(t)};d.addData(a),dt.$emit("updateGraph")}}},z=E,I=(a("8b51"),Object(h["a"])(z,D,A,!1,null,"b750dc88",null)),B=I.exports,$=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"video"}},[a("canvas",{attrs:{id:"video-canvas"}})])}],L=a("95bc"),X={name:"WebcamStream",data:function(){return{}},created:function(){},mounted:function(){var t=document.getElementById("video-canvas"),e="wss://video.practable.io:443/out/dpr/video0";console.log(e);var a=new L["JSMpeg"].Player(e,{canvas:t});console.log(a)}},Y=X,R=Object(h["a"])(Y,$,G,!1,null,"0eeb0cc6",null),W=R.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{attrs:{id:"buttons"}},[a("article",[a("button",{staticClass:"button",attrs:{id:"start"},on:{click:t.start}},[t._v("Start")]),a("button",{staticClass:"button",attrs:{id:"brake"},on:{click:t.brake}},[t._v("Brake")]),a("button",{staticClass:"button",attrs:{id:"load"},on:{click:t.load}},[t._v("Load")]),a("button",{staticClass:"button",attrs:{id:"free"},on:{click:t.free}},[t._v("Free")]),a("button",{staticClass:"button",attrs:{id:"cal"},on:{click:t.calibrate}},[t._v("Cal")])])]),a("article",[a("h2",[t._v(" Settings ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"column1-4"}),a("div",{staticClass:"column2-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"column1-3  sliderlabel"},[t._v(" Drive ("+t._s(t.driveParam)+"%)")]),a("div",{staticClass:"column2-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.driveParam,expression:"driveParam"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"100",id:"driveSlider"},domProps:{value:t.driveParam},on:{change:t.updateDriveParam,__r:function(e){t.driveParam=e.target.value}}})])])]),a("div",{staticClass:"column1-4"})]),t._m(1),a("div",{staticClass:"row"},[a("div",{staticClass:"column1-4"}),a("div",{staticClass:"column2-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"column1-3  sliderlabel"},[t._v(" Brake ("+t._s(t.brakeParam)+"%)")]),a("div",{staticClass:"column2-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.brakeParam,expression:"brakeParam"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"100",id:"brakeSlider"},domProps:{value:t.brakeParam},on:{change:t.updateBrakeParam,__r:function(e){t.brakeParam=e.target.value}}})])])]),a("div",{staticClass:"column1-4"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"column1-4"}),a("div",{staticClass:"column2-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"column1-3  sliderlabel"},[t._v(" Start bump ("+t._s(t.startParam)+"ms)")]),a("div",{staticClass:"column2-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.startParam,expression:"startParam"}],staticClass:"slider",attrs:{type:"range",min:"1",max:"100",id:"startSlider"},domProps:{value:t.startParam},on:{change:t.updateStartParam,__r:function(e){t.startParam=e.target.value}}})])])]),a("div",{staticClass:"column1-4"})]),a("div",{staticClass:"row"},[a("div",{staticClass:"column1-4"}),a("div",{staticClass:"column2-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"column1-3  sliderlabel"},[t._v(" Report every "+t._s(t.dataParam)+"ms")]),a("div",{staticClass:"column2-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.dataParam,expression:"dataParam"}],staticClass:"slider",attrs:{type:"range",min:"50",max:"200",id:"dataSlider"},domProps:{value:t.dataParam},on:{change:t.updateDataParam,__r:function(e){t.dataParam=e.target.value}}})])])]),a("div",{staticClass:"column1-4"})])])])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("canvas",{attrs:{id:"smoothie-chart",width:"640",height:"120"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"column1-3 sliderlabel"}),a("div",{staticClass:"column1-2"})])}],U=a("d096"),q=a("2589"),H={name:"ControlPanel",data:function(){return{dataSocket:null,startSlider:null,startParam:50,driveSlider:null,driveParam:50,brakeSlider:null,brakeParam:50,dataSlider:null,dataParam:0,canvas:null}},created:function(){},mounted:function(){var t="wss://video.practable.io:443/bi/dpr/pendulum0",e={automaticOpen:!0,reconnectDecay:1.5,reconnectInterval:500,maxReconnectInterval:1e4};this.dataSocket=new U["a"](t,null,e);var a,n,s,i=!1,r=0,c=0,o=!1,l=!0,u=1200,f=60,m=2400,h=!0,p=new q["SmoothieChart"]({responsive:h,millisPerPixel:10,grid:{fillStyle:"#ffffff"},interpolation:"linear",maxValue:135,minValue:-135,labels:{fillStyle:"#0024ff",precision:0}});this.canvas=document.getElementById("smoothie-chart");var v=new q["TimeSeries"];console.log("created"),p.addTimeSeries(v,{lineWidth:2,strokeStyle:"#0024ff"}),p.streamTo(this.canvas,0),this.dataSocket.onopen=function(t){console.log("dataSocket open"+t),i=!0,console.log(i),this.dataSocket.send(JSON.stringify({cmd:"drive",param:this.driveParam})),this.dataSocket.send(JSON.stringify({cmd:"brake",param:this.brakeParam})),this.dataSocket.send(JSON.stringify({cmd:"interval",param:this.dataParam}))},this.dataSocket.onmessage=function(t){try{var e=JSON.parse(t.data),i=e.time,h=(new Date).getTime()-i,p=e.enc;0==c&&(r=h),a=1/f,n=1-a,h=c<u?(r*c+h)/(c+1):r*n+h*a,c+=1,l?(p=Math.atan2(Math.sin(e.enc/(m/2)*Math.PI),Math.cos(e.enc/(m/2)*Math.PI))/Math.PI*180,p=Math.min(135,p),p=Math.max(-135,p),d.state.current_angle=p):(p=360*p/m,d.state.current_angle=p),s=i+r,isNaN(s)||isNaN(p)?o&&console.log("NaN so not logging to smoothie",r,h,i,p):(v.append(i+r,p),d.state.current_time=i+r,o&&console.log(r,h,i,p))}catch(b){o&&console.log(b)}},d.state.start_time=(new Date).getTime(),window.addEventListener("keydown",this.hotkey,!1)},methods:{start:function(){console.log("START "+this.startParam),this.dataSocket.send(JSON.stringify({cmd:"start",param:this.startParam}))},brake:function(){console.log("BRAKE "+this.brakeParam),this.dataSocket.send(JSON.stringify({cmd:"stop",param:"brake"}))},free:function(){console.log("undamped"),this.dataSocket.send(JSON.stringify({cmd:"stop",param:"unloaded"}))},load:function(){console.log("LOAD"),this.dataSocket.send(JSON.stringify({cmd:"stop",param:"loaded"}))},calibrate:function(){console.log("calibrate"),this.dataSocket.send(JSON.stringify({cmd:"calibrate"}))},updateStartParam:function(){console.log("start",this.startParam)},updateDriveParam:function(){console.log("Driving "+this.driveParam),this.dataSocket.send(JSON.stringify({cmd:"drive",param:this.driveParam}))},updateBrakeParam:function(){console.log("Braking "+this.brakeParam),this.dataSocket.send(JSON.stringify({cmd:"brake",param:this.brakeParam}))},updateDataParam:function(){console.log("data delay",this.dataParam),this.dataSocket.send(JSON.stringify({cmd:"interval",param:this.dataParam}))},hotkey:function(t){"f"==t.key&&this.free()}}},K=H,Q=(a("9bbb"),Object(h["a"])(K,J,V,!1,null,"61d7d12c",null)),Z=Q.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row mb-5 justify-content-center"},[t.isRecording?t._e():a("button",{attrs:{id:"recordButton"},on:{click:t.record}},[t._v("Record")]),t.isRecording?a("button",{attrs:{id:"stopButton"},on:{click:t.stopRecording}},[t._v("Stop")]):t._e(),t.hasPlotted?a("button",{attrs:{id:"clearButton"},on:{click:t.clearGraph}},[t._v("Reset")]):t._e(),a("label",{attrs:{for:"time_interval"}},[t._v("Every")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.time_interval,expression:"time_interval"}],attrs:{id:"time_interval",size:"3"},domProps:{value:t.time_interval},on:{input:function(e){e.target.composing||(t.time_interval=e.target.value)}}}),a("label",{attrs:{for:"time_interval"}},[t._v("s")])]),a("div",{staticClass:"row mb-5 justify-content-center"},[t.hasData?a("button",{attrs:{id:"outputButton"},on:{click:t.outputToCSV}},[t._v("Download CSV")]):t._e()])])},et=[],at={name:"DataRecorder",data:function(){return{store:d,isRecording:!1,time_interval:.5,interval_id:0,data_points_count:0,hasPlotted:!1}},components:{},computed:{hasData:function(){return 0!==this.store.getNumData()}},methods:{record:function(){var t=this;d.state.start_time=(new Date).getTime(),this.data_points_count=0,this.isRecording=!0,console.log("record"),this.interval_id=setInterval((function(){t.plot()}),1e3*parseFloat(this.time_interval))},stopRecording:function(){this.isRecording=!1,console.log("stop recording"),clearInterval(this.interval_id)},plot:function(){this.data_points_count++;var t=d.state.current_angle,e=d.getTime(),a={id:d.state.data.length,t:parseFloat(e),theta:parseFloat(t)};d.addData(a),dt.$emit("updateGraph"),this.hasPlotted=!0},addToGraph:function(){dt.$emit("updateGraph")},clearGraph:function(){d.clearAllData(),dt.$emit("clearalldata"),this.hasPlotted=!1},outputToCSV:function(){var t="Time/s,Angle/deg\n",e=d.state.data;e.forEach((function(e){t+=e.t.toString(),t+=",",t+=e.theta.toString(),t+="\n"}));var a=document.createElement("a");a.href="data:text/csv;charset=utf-8,"+encodeURI(t),a.target="_blank",a.download="pendulum.csv",a.click()}}},nt=at,st=(a("a9e9"),Object(h["a"])(nt,tt,et,!1,null,"7b29b9fb",null)),it=st.exports,rt={name:"App",components:{GraphOutput:v,TableOutput:j,Stopwatch:O,Workspace:B,WebcamStream:W,ControlPanel:Z,DataRecorder:it},methods:{},data:function(){return{isTableOn:!1,isGraphOn:!1,isStopwatchOn:!1,isWorkspaceOn:!1}}},ct=rt,ot=(a("034f"),Object(h["a"])(ct,r,c,!1,null,null,null)),lt=ot.exports,dt=(a("ab8b"),new i["a"]);i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(lt)}}).$mount("#app")},"5c23":function(t,e,a){},"5ed9":function(t,e,a){t.exports=a.p+"img/caliper.00f61c95.png"},7379:function(t,e,a){"use strict";var n=a("4996"),s=a.n(n);s.a},"85ec":function(t,e,a){},"8b51":function(t,e,a){"use strict";var n=a("5c23"),s=a.n(n);s.a},"9bbb":function(t,e,a){"use strict";var n=a("c7ce"),s=a.n(n);s.a},a9e9:function(t,e,a){"use strict";var n=a("d9e8"),s=a.n(n);s.a},b4f2:function(t,e,a){t.exports=a.p+"img/protractor.ea6a877b.png"},c7ce:function(t,e,a){},d9e8:function(t,e,a){}});
//# sourceMappingURL=app.30ff5b2e.js.map